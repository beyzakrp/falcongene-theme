{% liquid
  assign title = section.settings.title
  assign subtitle = section.settings.subtitle
%}

<section class="benefits-grid">
  <div class="benefits-grid__container">
    {% if title != blank %}
      <h2 class="benefits-grid__title">{{ title }}</h2>
    {% endif %}
    
    {% if subtitle != blank %}
      <p class="benefits-grid__subtitle">{{ subtitle }}</p>
    {% endif %}

    <div class="benefits-grid__cards">
      {% for block in section.blocks %}
        <div class="benefits-grid__card" {{ block.shopify_attributes }}>
          {% if block.settings.card_image != blank %}
            <div class="benefits-grid__image">
              {{ block.settings.card_image | image_url: width: 120 | image_tag: 
                loading: 'lazy',
                alt: block.settings.card_title }}
            </div>
          {% endif %}

          <h3 class="benefits-grid__card-title">{{ block.settings.card_title }}</h3>
          
          <ul class="benefits-grid__list">
            {% if block.settings.benefit_1 != blank %}
              <li>{{ block.settings.benefit_1 }}</li>
            {% endif %}
            {% if block.settings.benefit_2 != blank %}
              <li>{{ block.settings.benefit_2 }}</li>
            {% endif %}
            {% if block.settings.benefit_3 != blank %}
              <li>{{ block.settings.benefit_3 }}</li>
            {% endif %}
            {% if block.settings.benefit_4 != blank %}
              <li>{{ block.settings.benefit_4 }}</li>
            {% endif %}
          </ul>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

{% stylesheet %}
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

  .benefits-grid {
    padding: 100px 20px 100px;
    background: #ffffff;
    position: relative;
  }

  .benefits-grid__container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .benefits-grid__title {
    font-family: 'Inter', sans-serif;
    font-size: clamp(2rem, 5vw, 2.75rem);
    font-weight: 800;
    text-align: center;
    color: #0a0a0a;
    margin: 0 0 16px 0;
    letter-spacing: -0.03em;
    line-height: 1.2;
  }

  .benefits-grid__subtitle {
    font-family: 'Inter', sans-serif;
    font-size: 1.125rem;
    font-weight: 500;
    text-align: center;
    color: #64748b;
    margin: 0 0 64px 0;
    line-height: 1.6;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
  }

  /* Grid Layout - 2x2 */
  .benefits-grid__cards {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 28px;
    max-width: 1100px;
    margin: 0 auto;
  }

  /* Card Styling */
  .benefits-grid__card {
    background: #f8fafc;
    border-radius: 20px;
    padding: 40px 36px;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid transparent;
  }

  .benefits-grid__card:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
    background: #ffffff;
    border-color: #e2e8f0;
  }

  /* Image */
  .benefits-grid__image {
    width: 72px;
    height: 72px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 24px;
    border-radius: 16px;
    overflow: hidden;
    background: #f1f5f9;
  }

  .benefits-grid__image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* Card Title */
  .benefits-grid__card-title {
    font-family: 'Inter', sans-serif;
    font-size: 1.5rem;
    font-weight: 700;
    color: #0a0a0a;
    margin: 0 0 20px 0;
    letter-spacing: -0.02em;
    line-height: 1.3;
  }

  /* Benefits List */
  .benefits-grid__list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .benefits-grid__list li {
    font-family: 'Inter', sans-serif;
    font-size: 0.9375rem;
    font-weight: 500;
    color: #475569;
    line-height: 1.6;
    margin-bottom: 12px;
    padding-left: 24px;
    position: relative;
  }

  .benefits-grid__list li:last-child {
    margin-bottom: 0;
  }

  .benefits-grid__list li::before {
    content: '';
    position: absolute;
    left: 0;
    top: 8px;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: #10b981;
  }

  /* Responsive - 4 Column Desktop */
  @media screen and (min-width: 1280px) {
    .benefits-grid__cards {
      grid-template-columns: repeat(4, 1fr);
      gap: 24px;
    }

    .benefits-grid__card {
      padding: 36px 28px;
    }

    .benefits-grid__image {
      width: 64px;
      height: 64px;
      margin-bottom: 20px;
    }

    .benefits-grid__card-title {
      font-size: 1.25rem;
      margin-bottom: 16px;
    }

    .benefits-grid__list li {
      font-size: 0.875rem;
      margin-bottom: 10px;
    }
  }

  /* Tablet */
  @media screen and (max-width: 1024px) {
    .benefits-grid__cards {
      gap: 24px;
    }

    .benefits-grid__card {
      padding: 36px 32px;
    }
  }

  /* Mobile */
  @media screen and (max-width: 768px) {
    .benefits-grid {
      padding: 80px 16px 80px;
    }

    .benefits-grid__title {
      font-size: 2rem;
      margin-bottom: 12px;
    }

    .benefits-grid__subtitle {
      font-size: 1rem;
      margin-bottom: 48px;
    }

    .benefits-grid__cards {
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .benefits-grid__card {
      padding: 32px 28px;
    }

    .benefits-grid__image {
      width: 64px;
      height: 64px;
      margin-bottom: 20px;
    }

    .benefits-grid__card-title {
      font-size: 1.375rem;
    }

    .benefits-grid__list li {
      font-size: 0.9375rem;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Benefits Grid",
  "tag": "section",
  "class": "section-benefits-grid",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Başlık",
      "default": "Tek bir testle yaşam kaliteni artıracak onlarca bilgi!"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Alt Başlık",
      "default": "Genetik testlerimiz, sağlık ve yaşam tarzınızı optimize etmeniz için ihtiyaç duyduğunuz tüm bilgileri sunar."
    }
  ],
  "blocks": [
    {
      "type": "benefit_card",
      "name": "Benefit Card",
      "settings": [
        {
          "type": "image_picker",
          "id": "card_image",
          "label": "Kart Görseli",
          "info": "Önerilen: 120x120px"
        },
        {
          "type": "text",
          "id": "card_title",
          "label": "Kart Başlığı",
          "default": "Spor"
        },
        {
          "type": "text",
          "id": "benefit_1",
          "label": "Fayda 1",
          "default": "Hangi spora yatkınsın?"
        },
        {
          "type": "text",
          "id": "benefit_2",
          "label": "Fayda 2",
          "default": "Güç / dayanıklılık profili"
        },
        {
          "type": "text",
          "id": "benefit_3",
          "label": "Fayda 3",
          "default": "Sakatlık riskleri"
        },
        {
          "type": "text",
          "id": "benefit_4",
          "label": "Fayda 4",
          "default": "Toparlanma kapasitesi"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Benefits Grid",
      "category": "Content",
      "blocks": [
        {
          "type": "benefit_card",
          "settings": {
            "card_title": "Spor",
            "benefit_1": "Hangi spora yatkınsın?",
            "benefit_2": "Güç / dayanıklılık profili",
            "benefit_3": "Sakatlık riskleri",
            "benefit_4": "Toparlanma kapasitesi"
          }
        },
        {
          "type": "benefit_card",
          "settings": {
            "card_title": "Beslenme",
            "benefit_1": "Kilo yönetimi",
            "benefit_2": "Makro metabolizma (Y/K/P)",
            "benefit_3": "Vitamin yatkınlıkları",
            "benefit_4": "Kafein duyarlılığı"
          }
        },
        {
          "type": "benefit_card",
          "settings": {
            "card_title": "Cilt",
            "benefit_1": "Yaşlanma hızı",
            "benefit_2": "Kolajen yapısı",
            "benefit_3": "UV duyarlılığı",
            "benefit_4": "Pigmentasyon riskleri"
          }
        },
        {
          "type": "benefit_card",
          "settings": {
            "card_title": "İlaç",
            "benefit_1": "Yan etki yatkınlığı",
            "benefit_2": "Doz tepkisi",
            "benefit_3": "İlaç metabolizması",
            "benefit_4": ""
          }
        }
      ]
    }
  ]
}
{% endschema %}
